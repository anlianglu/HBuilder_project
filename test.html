<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<style type="text/css">
			.mui-bar~.mui-content .mui-fullscreen {
				top: 44px;
				height: auto;
			}
			
			.mui-pull-top-tips {
				position: absolute;
				top: -20px;
				left: 50%;
				margin-left: -25px;
				width: 40px;
				height: 40px;
				border-radius: 100%;
				z-index: 1;
			}
			
			.mui-bar~.mui-pull-top-tips {
				top: 24px;
			}
			
			.mui-pull-top-wrapper {
				width: 42px;
				height: 42px;
				display: block;
				text-align: center;
				background-color: #efeff4;
				border: 1px solid #ddd;
				border-radius: 25px;
				background-clip: padding-box;
				box-shadow: 0 4px 10px #bbb;
				overflow: hidden;
			}
			
			.mui-pull-top-tips.mui-transitioning {
				-webkit-transition-duration: 200ms;
				transition-duration: 200ms;
			}
			
			.mui-pull-top-tips .mui-pull-loading {
				/*-webkit-backface-visibility: hidden;
				-webkit-transition-duration: 400ms;
				transition-duration: 400ms;*/
				margin: 0;
			}
			
			.mui-pull-top-wrapper .mui-icon,
			.mui-pull-top-wrapper .mui-spinner {
				margin-top: 7px;
			}
			
			.mui-pull-top-wrapper .mui-icon.mui-reverse {
				/*-webkit-transform: rotate(180deg) translateZ(0);*/
			}
			
			.mui-pull-bottom-tips {
				text-align: center;
				background-color: #efeff4;
				font-size: 15px;
				line-height: 40px;
				color: #777;
			}
			
			.mui-pull-top-canvas {
				overflow: hidden;
				background-color: #fafafa;
				border-radius: 40px;
				box-shadow: 0 4px 10px #bbb;
				width: 40px;
				height: 40px;
				margin: 0 auto;
			}
			
			.mui-pull-top-canvas canvas {
				width: 40px;
			}
			
			.mui-slider-indicator.mui-segmented-control {
				background-color: #efeff4;
			}
		</style>
	</head>

	<body>

		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">标题</h1>
		</header>

		<div class="mui-content">
			<div id="slider" class="mui-slider mui-fullscreen">

				<div id="sliderSegmentedControl" class="mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
					<div id="item_mui_scroll" class="mui-scroll">

						<a class="mui-control-item" href="#item0" id="index0">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item1" id="index1">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item2" id="index2">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item3" id="index3">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item4" id="index4">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item5" id="index5">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item6" id="index6">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item7" id="index7">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item8" id="index8">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item9" id="index9">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item10" id="index10">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item11" id="index11">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item12" id="index12">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item13" id="index13">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item14" id="index14">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item15" id="index15">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item16" id="index16">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item17" id="index17">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item18" id="index18">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item19" id="index19">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item20" id="index20">第一单元蛋白质的结构</a>
						<a class="mui-control-item" href="#item21" id="index21"></a>
						<a class="mui-control-item" href="#item22" id="index22"></a>
						<a class="mui-control-item" href="#item23" id="index23"></a>
						<a class="mui-control-item" href="#item24" id="index24"></a>
						<a class="mui-control-item" href="#item25" id="index25"></a>
						<a class="mui-control-item" href="#item26" id="index26"></a>
						<a class="mui-control-item" href="#item27" id="index27"></a>
						<a class="mui-control-item" href="#item28" id="index28"></a>
						<a class="mui-control-item" href="#item29" id="index29"></a>
						<a class="mui-control-item" href="#item30" id="index30"></a>
						<a class="mui-control-item" href="#item31" id="index31"></a>
						<a class="mui-control-item" href="#item32" id="index32"></a>
						<a class="mui-control-item" href="#item33" id="index33"></a>
						<a class="mui-control-item" href="#item34" id="index34"></a>
						<a class="mui-control-item" href="#item35" id="index35"></a>
						<a class="mui-control-item" href="#item36" id="index36"></a>
						<a class="mui-control-item" href="#item37" id="index37"></a>
						<a class="mui-control-item" href="#item38" id="index38"></a>
						<a class="mui-control-item" href="#item39" id="index39"></a>
						<a class="mui-control-item" href="#item40" id="index40"></a>
						<a class="mui-control-item" href="#item41" id="index41"></a>
						<a class="mui-control-item" href="#item42" id="index42"></a>
						<a class="mui-control-item" href="#item43" id="index43"></a>
						<a class="mui-control-item" href="#item44" id="index44"></a>
						<a class="mui-control-item" href="#item45" id="index45"></a>
						<a class="mui-control-item" href="#item46" id="index46"></a>
						<a class="mui-control-item" href="#item47" id="index47"></a>
						<a class="mui-control-item" href="#item48" id="index48"></a>
						<a class="mui-control-item" href="#item49" id="index49"></a>
					</div>
				</div>

				<div class="mui-slider-group">
					<div id="item0" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider0">

							</div>
						</div>
					</div>
					<div id="item1" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider1"></div>
						</div>
					</div>
					<div id="item2" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider2"></div>
						</div>
					</div>
					<div id="item3" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider3"></div>
						</div>
					</div>
					<div id="item4" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider4"></div>
						</div>
					</div>
					<div id="item5" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider5"></div>
						</div>
					</div>
					<div id="item6" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider6"></div>
						</div>
					</div>
					<div id="item7" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider7"></div>
						</div>
					</div>
					<div id="item8" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider8"></div>
						</div>
					</div>
					<div id="item9" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider9"></div>
						</div>
					</div>
					<div id="item10" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider10"></div>
						</div>
					</div>
					<div id="item11" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider11"></div>
						</div>
					</div>
					<div id="item12" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider12"></div>
						</div>
					</div>
					<div id="item13" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider13"></div>
						</div>
					</div>
					<div id="item14" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider14"></div>
						</div>
					</div>
					<div id="item15" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider15"></div>
						</div>
					</div>
					<div id="item16" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider16"></div>
						</div>
					</div>
					<div id="item17" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider17"></div>
						</div>
					</div>
					<div id="item18" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider18"></div>
						</div>
					</div>
					<div id="item19" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider19"></div>
						</div>
					</div>
					<div id="item20" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider20"></div>
						</div>
					</div>
					<div id="item21" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider21"></div>
						</div>
					</div>
					<div id="item22" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider22"></div>
						</div>
					</div>
					<div id="item23" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider23"></div>
						</div>
					</div>
					<div id="item24" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider24"></div>
						</div>
					</div>
					<div id="item25" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider25"></div>
						</div>
					</div>
					<div id="item26" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider26"></div>
						</div>
					</div>
					<div id="item27" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider27"></div>
						</div>
					</div>
					<div id="item28" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider28"></div>
						</div>
					</div>
					<div id="item29" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider29"></div>
						</div>
					</div>
					<div id="item30" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider30"></div>
						</div>
					</div>
					<div id="item31" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider31"></div>
						</div>
					</div>
					<div id="item32" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider32"></div>
						</div>
					</div>
					<div id="item33" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider33"></div>
						</div>
					</div>
					<div id="item34" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider34"></div>
						</div>
					</div>
					<div id="item35" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider35"></div>
						</div>
					</div>
					<div id="item36" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider36"></div>
						</div>
					</div>
					<div id="item37" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider37"></div>
						</div>
					</div>
					<div id="item38" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider38"></div>
						</div>
					</div>
					<div id="item39" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider39"></div>
						</div>
					</div>
					<div id="item40" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider40"></div>
						</div>
					</div>
					<div id="item41" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider41"></div>
						</div>
					</div>
					<div id="item42" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider42"></div>
						</div>
					</div>
					<div id="item43" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider43"></div>
						</div>
					</div>
					<div id="item44" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider44"></div>
						</div>
					</div>
					<div id="item45" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider45"></div>
						</div>
					</div>
					<div id="item46" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider46"></div>
						</div>
					</div>
					<div id="item47" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider47"></div>
						</div>
					</div>
					<div id="item48" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider48"></div>
						</div>
					</div>
					<div id="item49" class="mui-slider-item mui-control-content">
						<div class="mui-scroll-wrapper">
							<div class="mui-scroll" id="slider49"></div>
						</div>
					</div>

					<!--------------------------------------------------------------------------->
				</div>
			</div>
		</div>

		<script src="js/mui.min.js"></script>
		<script src="js/loadXml.js"></script>
		<script type="text/javascript">
			mui.init({
				gestureConfig: {
					tap: true, //默认为true
					doubletap: true, //默认为false
					longtap: true, //默认为false
					swipe: true, //默认为true
					drag: true, //默认为true
					hold: false, //默认为false，不监听
					release: false //默认为false，不监听
				}
			});

			var deceleration = mui.os.ios ? 0.003 : 0.0006;
			mui('.mui-scroll-wrapper').scroll({
				scrollY: true,
				bounce: false,
				indicators: true, //是否显示滚动条
				deceleration: deceleration
			});

			var xmlDoc = checkXMLDocObj('shu.xml');
			var nodes = xmlDoc.getElementsByTagName('section');

			var mui_scroll = document.querySelector('#item_mui_scroll');
			var mui_slider_group = document.querySelector('.mui-slider-group');
			//			mui-content
			var mui_scontent = document.querySelector('.mui-content');
			mui_scontent.addEventListener("swipe", function() {
				console.log("你正在滑动屏幕");
				var seleteid = document.querySelector('.mui-control-item.mui-active');
				console.log("seleteid=" + seleteid.id);
				localStorage.setItem("Readingsign", seleteid.id);
				console.log(localStorage.getItem("Readingsign"))
			});
			mui.ready(function() {

				console.log("=================ready=================");

				//				for(var i=0;i<50;i++){
				//					
				//					var id = "slider"+i;
				//					var divscroll = document.createElement("div");
				//					divscroll.className = 'mui-scroll';
				//					divscroll.id = id;
				//					var divscrollwrapper = document.createElement("div");
				//					divscrollwrapper.className = 'mui-scroll-wrapper';
				//					divscrollwrapper.appendChild(divscroll);
				//					
				//					var divitem = document.createElement("div");
				//					var dividstr = "item" + i;
				//					divitem.id = dividstr
				//					divitem.className = 'mui-slider-item mui-control-content'
				//					divitem.appendChild(divscrollwrapper)
				//
				//					mui_slider_group.appendChild(divitem);
				//
				//					
				//				}

				for(var i = 0; i < 50; i++) {
					var id = "index" + i;
					var mui_scroll_id = document.getElementById(id);
					mui_scroll_id.innerHTML = id;
					var slider_id = "slider" + i;
					var mui_slider_id = document.getElementById(slider_id);
					mui_slider_id.innerHTML = slider_id

				}

				var mui_scroll_id = document.getElementById("index0");
				mui_scroll_id.classList.add('mui-active')
				var mui_slider_id = document.getElementById("slider0");
				mui_slider_id.classList.add('mui-active')

				var unitTitlestr = nodes[0].getElementsByTagName("part")[0].getElementsByTagName("unit");
				console.log("unitTitlestr.length=" + unitTitlestr.length);
				var point = unitTitlestr[0].getElementsByTagName("point");
				console.log(point);
				//mui_slider_id.innerHTML = ""+point[0].textContent;

				for(var i = 0; i < unitTitlestr.length; i++) {
					var id = "index" + i;
					var mui_scroll_id = document.getElementById(id);
					var nuit = unitTitlestr[i].getAttribute("title")
					mui_scroll_id.innerHTML = nuit;

					var slider_id = "slider" + i;
					var mui_slider_id = document.getElementById(slider_id);
					var point = unitTitlestr[i].getElementsByTagName("point");
					mui_slider_id.innerHTML = point[0].textContent;
				}
				for(var i = unitTitlestr.length; i < 50; i++) {
					var id = "index" + i;
					var slider_id = "item" + i;
					var mui_scroll_id = document.getElementById(id);
					var mui_slider_id = document.getElementById(slider_id);
					mui_scroll_id.remove();
					mui_slider_id.remove();
					//					mui_scroll_id.parent.removeChild(mui_scroll_id);
					//					mui_slider_id.parent.removeChild(mui_slider_id);
					console.log("----------------------------------------------");
				}
				///---------------
				//				for(var i = 0; i < 50; i++){
				//					var id = "index"+i;
				//					var idstr = "#item" + i;
				//					var a = document.createElement('a');
				//					//					if(i == loadingread) {
				//					//						console.log("i=" + i);
				//					//						a.className = 'mui-control-item mui-active';
				//					//					} else {
				//					//						console.log("i=" + i);
				//					a.className = 'mui-control-item';
				//					//					}
				//
				//					a.href = idstr;
				//					a.id = id;
				//				
				//				mui_scroll.appendChild(a);
				//				}

				var seleteid = document.querySelector('.mui-control-item.mui-active');
				console.log("seleteid=" + seleteid.id);

				//监听返回键按钮
				mui(".mui-bar").on('tap', '.mui-action-back', function() {
					var seleteid = document.querySelector('.mui-control-item.mui-active');
					console.log("seleteid=" + seleteid.id);
					console.log("detail call back is ok!");
					localStorage.setItem("Readingsign", "");
				});

			});
		</script>
	</body>

</html>